<%= polaris_page(
  title: "Current Symptoms",
  subtitle: "Track your symptoms over time. The graph below shows the total severity of all your symptoms, so you can see when an attack is coming on or is starting to subside.",
) do |page| %>

  <% page.primary_action(url: new_symptom_path) { "New symptom" } %>

  <%= polaris_card do %>
    <%= area_chart([{name: "Severity", data: Measurement.all_by_day_and_severity }]) %>
  <% end %>

  <%= polaris_card do %>
    <%= polaris_data_table(@symptoms) do |table| %>
      <% table.column("Title") do |symptom| %>
        <%= symptom.title %>
      <% end %>
      <% table.column("Description") do |symptom| %>
        <%= symptom.description %>
      <% end %>
      <% table.column("Severity") do |symptom| %>
        <%= symptom.severity %>
      <% end %>
      <% table.column("Actions") do |symptom| %>
        <%= polaris_button(url: symptom_path(symptom)) { "View & update" } %>
      <% end %>
    <% end %>
  <% end %>

<% end %>
