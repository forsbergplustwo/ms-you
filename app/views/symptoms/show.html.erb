<%= polaris_page(
  title: @symptom.title,
  subtitle: @symptom.description,
  back_url: symptoms_path,
) do |page| %>

  <% page.primary_action() { "Log update" } %>
  <% page.action_group(
    title: "More actions",
    actions: [
    { content: "Edit", url: edit_symptom_path(@symptom) },
    { content: "Delete", url: symptom_path(@symptom), destructive: true, method: :delete },
  ]
  ) %>

  <%= polaris_card do %>
    <%= area_chart([{name: "Severity", data: @measurements.group_by_week(:created_at).sum(:severity) }]) %>
  <% end %>

  <%= polaris_card(title: "Updates") do %>

    <%= polaris_data_table(@measurements) do |table| %>
      <% table.column("Date") do |measurement| %>
        <%= measurement.created_at %>
      <% end %>
      <% table.column("Severity") do |measurement| %>
        <%= measurement.severity %>
      <% end %>
      <% table.column("Notes") do |measurement| %>
        TODO
      <% end %>
      <% table.column("Actions") do |measurement| %>
        TODO
      <% end %>
    <% end %>

  <% end %>

<% end %>
