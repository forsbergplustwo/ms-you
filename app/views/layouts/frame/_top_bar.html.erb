<% frame.top_bar do |top_bar| %>

  <% if signed_in? %>
    <% top_bar.user_menu(name: it("Account"), detail: current_user.email) do |user_menu| %>

      <% user_menu.avatar(
        initials: current_user.email[0..1],
        name: current_user.email,
      ) %>

      <%= polaris_action_list do |action_list| %>

        <% action_list.item(
          icon: "LogOutMinor",
          url: sign_out_path,
          data: { turbo_method: :delete }
        ) { it('Log out') } %>

      <% end %>

    <% end %>

  <% else %>

    <% top_bar.user_menu(name: it("Account"), detail: it("Not logged in")) do |user_menu| %>
      <%= polaris_action_list do |action_list| %>
        <% action_list.item(
          url: sign_in_path,
        ) { it('Log in') } %>
        <% action_list.item(
          url: sign_up_path,
        ) { it('Sign up') } %>
      <% end %>
    <% end %>

  <% end %>
<% end %>
